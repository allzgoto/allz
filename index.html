<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Shadow Fight 2 — Entry</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow:hidden;background:#000}

:root{ --ember: rgba(255,140,70,1); }

/* ===== VIDEO ===== */
#mainVideo{
  position:fixed; inset:0;
  width:100%; height:100%;
  object-fit:cover;
  z-index:0;
  opacity:0;
  transition:opacity 900ms ease;
}
body.entered #mainVideo{opacity:1}

/* ===== ENTRY ===== */
#entry{
  position:fixed; inset:0;
  z-index:10;
  cursor:pointer;
  background:#000;
}

/* Fundo blur */
.bgFill{
  position:absolute; inset:0;
  background:url("https://files.catbox.moe/5yp48z.png") center/cover no-repeat;
  filter:blur(28px) brightness(0.22) contrast(1.2);
  transform:scale(1.2);
  z-index:1;
}

/* ===== PARTÍCULAS CINZA / CINZAS VULCÂNICAS ===== */
#ashCanvas{
  position:absolute; inset:0;
  z-index:2;
  pointer-events:none;
}

/* ===== PALCO ===== */
.stage{
  position:absolute; inset:0;
  display:grid;
  place-items:center;
  z-index:5;
}

.frameWrap{
  width:min(1000px,88vw);
  aspect-ratio:16/9;
  position:relative;
  border-radius:16px;
  overflow:hidden;
  box-shadow:
    0 0 0 1px rgba(255,170,90,0.1),
    0 40px 140px rgba(0,0,0,0.95);
}

/* imagem principal */
.frame{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit:cover;
  filter:contrast(1.12) brightness(0.82) saturate(0.9);
}

/* suavização */
.softOverlay{
  position:absolute; inset:0;
  z-index:2;
  background:
    radial-gradient(circle at center, rgba(0,0,0,0.2), rgba(0,0,0,0.7)),
    linear-gradient(to bottom, rgba(0,0,0,0.3), transparent 40%, rgba(0,0,0,0.5));
  backdrop-filter: blur(2px);
}

/* gif */
#strike{
  opacity:0;
  z-index:3;
  mix-blend-mode:screen;
  transition:opacity 200ms ease;
}
body.strikeOn #strike{opacity:0.95}

/* ===== ENTER UI ===== */
.introUI{
  position:absolute; inset:0;
  display:grid;
  place-items:center;
  text-align:center;
  z-index:4;
  pointer-events:none;
}

/* remove caixa pesada */
.enterBox{
  background:none;
  padding:0;
}

/* ENTER estilo logo */
.title{
  font-family: "Cinzel", serif;
  font-weight:800;
  font-size: clamp(34px, 4.5vw, 64px);
  letter-spacing:6px;
  text-transform:uppercase;

  background: linear-gradient(
    to bottom,
    #f6d5a8 0%,
    #e2b07a 35%,
    #b87333 60%,
    #f6d5a8 100%
  );
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;

  text-shadow:
    0 2px 0 #000,
    0 0 12px rgba(255,140,70,0.6),
    0 0 35px rgba(255,100,0,0.4);

  position:relative;
  animation:pulse 2.5s ease-in-out infinite;
}

/* aura atrás do texto */
.title::after{
  content:"";
  position:absolute;
  inset:-18px -40px;
  background:
    radial-gradient(circle at center,
      rgba(255,120,0,0.15),
      rgba(0,0,0,0.7));
  z-index:-1;
  filter:blur(18px);
  border-radius:50px;
  opacity:0.8;
}

.sub{
  margin-top:10px;
  font-size:10px;
  letter-spacing:5px;
  color:rgba(255,255,255,0.35);
  text-transform:uppercase;
  animation:blink 1.2s steps(2,end) infinite;
}

@keyframes pulse{
  0%,100%{transform:translateY(0);opacity:.85}
  50%{transform:translateY(-3px);opacity:1}
}

@keyframes blink{
  0%,49%{opacity:.2}
  50%,100%{opacity:.6}
}

/* fade enter */
body.strikeOn .introUI{
  opacity:0;
  transition:opacity 300ms ease;
}

/* entrada some */
body.entered #entry{
  opacity:0;
  pointer-events:none;
  transition:opacity 800ms ease;
}
</style>
</head>

<body>

<video id="mainVideo"
  src="https://files.catbox.moe/klaol5.webm"
  playsinline preload="auto"></video>

<section id="entry" tabindex="0" aria-label="Entrada Shadow Fight 2">

  <div class="bgFill"></div>
  <canvas id="ashCanvas"></canvas>

  <div class="stage">
    <div class="frameWrap">

      <img class="frame" src="https://files.catbox.moe/5yp48z.png" alt="Shadow Fight 2 Entry">

      <div class="softOverlay"></div>

      <img id="strike" class="frame" src="https://files.catbox.moe/er48bx.gif" alt="Golpe">

      <div class="introUI">
        <div class="enterBox">
          <div class="title">ENTER</div>
          <div class="sub">clique para iniciar</div>
        </div>
      </div>

    </div>
  </div>

</section>

<script>
const entry = document.getElementById("entry");
const mainVideo = document.getElementById("mainVideo");

/* ===== CINZAS VULCÂNICAS ===== */
const canvas = document.getElementById("ashCanvas");
const ctx = canvas.getContext("2d");

let W,H,DPR=1;
function resize(){
  DPR = devicePixelRatio || 1;
  W = canvas.width = Math.floor(window.innerWidth * DPR);
  H = canvas.height = Math.floor(window.innerHeight * DPR);
  canvas.style.width = window.innerWidth + "px";
  canvas.style.height = window.innerHeight + "px";
  ctx.setTransform(DPR,0,0,DPR,0,0);
}
resize();
window.addEventListener("resize",resize);

const ash=[];
const ASH_N = 140;
for(let i=0;i<ASH_N;i++){
  ash.push({
    x:Math.random()*window.innerWidth,
    y:Math.random()*window.innerHeight,
    r:Math.random()*2+0.6,
    v:Math.random()*0.55+0.18,
    drift:(Math.random()-0.5)*0.45,
    tw:Math.random()*0.6+0.2
  });
}

function drawAsh(){
  ctx.clearRect(0,0,window.innerWidth,window.innerHeight);

  // cinzas (cinza) + uns pontos mais escuros (sombra)
  for(const p of ash){
    p.y -= p.v;
    p.x += p.drift;
    if(p.y < -10){ p.y = window.innerHeight + 10; p.x = Math.random()*window.innerWidth; }
    if(p.x < -10) p.x = window.innerWidth + 10;
    if(p.x > window.innerWidth + 10) p.x = -10;

    const alpha = 0.18 + p.tw*0.22;
    ctx.beginPath();
    ctx.fillStyle = `rgba(190,190,190,${alpha})`;
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
  }

  requestAnimationFrame(drawAsh);
}
drawAsh();

/* ===== CLICK ===== */
let started=false;

function start(){
  if(started) return;
  started=true;

  // gif aparece por cima
  document.body.classList.add("strikeOn");

  // áudio + vídeo no clique
  setTimeout(()=>{
    mainVideo.muted = false;
    mainVideo.volume = 1;
    mainVideo.play().catch(()=>{});
    document.body.classList.add("entered");
  },1200);
}

entry.addEventListener("pointerdown", start);
entry.addEventListener("keydown", (e)=>{
  if(e.key==="Enter" || e.key===" "){ e.preventDefault(); start(); }
});
</script>

</body>
</html>
